{% extends "public/base.html" %}

{% block content %}

    <header class="header">
        <h1 id="top-header">
            Welcome to Evolutionary Triangles
        </h1>
    </header>

    <body>
    <div class="container">
        <h3 class="page-header">Introduction</h3>
        <div class="text" id="introduction">
            {% include "content/introduction.html" %}
        </div>
        <hr/>
        <h3 class="page-header">Evolutionary Triangles Algorithm</h3>
        <div class="text" id="algorithm">
            {% include "content/evo_algorithm.html" %}
        </div>
        <hr/>
        <h3 class="page-header">Explore it yourself</h3>
        <div class="text" id="diy">
            {% include "content/do_it_yourself.html" %}
        </div>
        <hr/>
        {% if started %}
            <a href="{{ url_for('index') + "#progress" }}"></a>
            <h3 class="page-header">Progress</h3>
            <div class="text" id="progress">
                {% include "content/progress.html" %}
            </div>
            <div id="generation"></div>
            {# logging of the progress #}
        {% endif %}
        <hr/>
        {% if success %}
            <h3 class="page-header">Results</h3>
            <form method="post">
                <button type="submit" name="submit_button" value="download" class="btn btn-primary">Download
                    results
                </button>
            </form>
            <div class="row">
                {% for image, caption in images %}
                    <div class="col-sm-auto">
                        <img class="img-fluid"
                             src="{{ url_for('display_image', folder=folder, filename=image) }}"
                             alt="source image vs triangulated image">
                        <figcaption class="text-center">{{ caption|safe }}</figcaption>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
    </body>

{% endblock %}

